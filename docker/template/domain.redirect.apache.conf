<VirtualHost *:80>
    # Redirect all HTTP traffic to https://newdomain.com
    ServerName example.com
    ServerAlias www.example.com

    RewriteEngine On
    RewriteRule ^/?(.*) https://newdomain.com/$1 [R=301,L]

    # No logs for redirection
</VirtualHost>

<VirtualHost *:443>
    # Redirect all HTTPS traffic to https://newdomain.com
    ServerName example.com
    ServerAlias www.example.com

    # SSL Configuration (Optional, if HTTPS traffic is being handled)
    SSLEngine on
    SSLCertificateFile /etc/apache2/ssl/example.com.crt
    SSLCertificateKeyFile /etc/apache2/ssl/example.com.key
    SSLCertificateChainFile /etc/apache2/ssl/example.com.chain.pem

    RewriteEngine On
    RewriteRule ^/?(.*) https://newdomain.com/$1 [R=301,L]

    # No logs for redirection
</VirtualHost>
