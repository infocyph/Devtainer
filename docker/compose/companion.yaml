services:
  server-tools:
    container_name: SERVER_TOOLS
    hostname: server-tools
    build:
      context: ../dockerfiles
      dockerfile: tools.Dockerfile
      args:
        UID: ${UID:-1000}
        GID: ${GID:-root}
    restart: always
    environment:
      - TZ=${TZ:-}
    volumes:
      - ../../configuration/apache:/home/${USERNAME:-dockery}/.local/share/apache
      - ../../configuration/nginx:/home/${USERNAME:-dockery}/.local/share/nginx
      - ../../configuration/ssl:/etc/mkcert
      - ../../configuration/ssh:/home/${USERNAME:-dockery}/.ssh
      - "${PROJECT_DIR:-./../../../application}:/app"
      - ../../configuration/rootCA:/home/${USERNAME:-dockery}/.local/share/mkcert
      - /var/run/docker.sock:/var/run/docker.sock
      - /etc/localtime:/etc/localtime
      - /etc/timezone:/etc/timezone
    networks:
      - backend
